$schema: "1.0"
name: "back-end-engineering"
description: "This definition is for the eShop Backend Engineering Environment"

image: "microsoftwindowsdesktop_windows-ent-cpc_win11-23h2-ent-cpc-m365"
enableScheduledRefresh: true
scheduledTimePeriod: hour
scheduledRecurrence: 24

tasks:
  - name: git-clone
    description: Clone this repository into z:\Workspaces
    parameters:
      repositoryUrl: https://github.com/contoso-co/common-eng-sys.git
      directory: c:\workspaces
  - name: winget
    parameters:
      configurationFile: 'c:\workspaces\common-eng-sys\dsc-configurations\common-config.dsc.yaml'
  - name: git-clone
    description: Clone this repository into z:\Workspaces
    parameters:
      repositoryUrl: https://github.com/contoso-co/eshop.git
      directory: z:\workspaces
  - name: winget
    parameters:
      configurationFile: 'z:\workspaces\eshop\.configurations\backend-eng.dsc.yaml'
